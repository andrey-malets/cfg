people:
- [alexog,        "Alexander Bocharov",   alexog@hackerdom.ru]
- [alklepin,      "Alexander Klepinin",   alklepin@mail.utnet.ru]
- [and,           "Andrey Khozov",        avkhozov@gmail.com]
- [andgein,       "Andrey Gein",          andgein@yandex.ru]
- [dimmo,         "Dmitry Simonov",       dimmoborgir@gmail.com]
- [ilya,          "Ilya Zelenchuk",       ilya@hackerdom.ru]
- [kost,          "Konstantin Plotnikov", kost@hackerdom.ru]
- [last,          "Sergey Azovskov",      last_g@hackerdom.ru]
- [ld,            "Bogdan Melnik",        ld@hackerdom.ru]
- [muzafarov,     "Maxim Muzafarov",      m.muzafarov@gmail.com]
- [ns,            "Nickolai Shturkin",    ns@splinex.com]
- [uzer,          "Andrey Malets",        andrey.malets@gmail.com]
- [vsamun,        "Victor Samun",         victor.samun@gmail.com]
- [yariksuperman, "Yaroslav Borcheninov", yariksuperman@gmail.com]
- [yury.pliner,   "Yury Pliner",          yury.pliner@gmail.com]
- [znick,         "Nickolai Zhuravlev",   znick@znick.ru]

defaults:
  mon: monitoring@urgu.org
  slurm: managed
  nagios: 194.226.244.126
  frontend: 194.226.244.126
  network_prefix: '172.16'
  domains:
    default: 'urgu.org'
    '.runc': '.runc.urgu.org'
    '.usu' : '.usu.edu.ru'

networks:
- [172.16.9/24,        172.16.9.254,    {rdns: 1, private: 1}]
- [172.16.10/24,       172.16.10.253,   {dhcp: '1-128', rdns: 1, fb: 1}]
- [172.16.11/24,       172.16.11.253,   {dhcp: '40-252', rdns: 1, fb: 1}]
- [172.16.12/24,       172.16.12.253,   {dhcp: '30-252', rdns: 1, fb: 1}]
- [172.16.16/24,       172.16.16.254,   {rdns: 1, private: 1}]
- [172.16.18/24,       172.16.18.1,     {rdns: 1, private: 1}]
- [172.16.19/24,       172.16.19.1,     {rdns: 1, private: 1}]
- [172.16.20/24,       172.16.20.254,   {rdns: 1, private: 1}]
- [172.16.21/24,       172.16.21.254,   {rdns: 1, private: 1}]
- [172.16.50/24,       172.16.50.254,   {dhcp: '1-240', rdns: 1, fb: 1}]
- [194.226.235.128/25, 194.226.235.254]
- [194.226.244.112/28, 194.226.244.114, {fb: 1}]

groups:
- [unix,       '^(.*-back|d|h|hog|mysql|m|mm|n|p|r|shannon|t|ts|it|it2)$',
                                                    {services: [unix]}]
- [windows,    [633-pcs], '(lick|dc3|ld-xp)',       {services: [windows, rrdp]}]
- [xen,        '^(h|m|r|t)$',                       {services: [xen]}]
- [megaraid,   '^(m|r|t)$',                         {services: [megaraid]}]
- [http,       '^(anytask|school|hackerdom)-back$', {services: [http]}]
- [https,      'redmine-back',                      {services: [https]}]
- [uzers_unix, '^(h|hog|m|mm|n|p|r|t|ts|it|it2)$',  {services: [exim_default, autoupdate]}]
- [auto_vms,   '^((irc|school)-back|shannon)$',     {services: [exim_default, autoupdate]}]

- [aps,        '(.+-ap|ap\d)',              {admin: uzer}]
- [ipmi,       '.+-ipmi',                   {services: [ipmi], admin: uzer}]
- [mplan,      '.+-mplan',                  {services: [mplan], admin: uzer}]
- [switches,   '.+-switch',                 {admin: uzer}]
- [paper,      '.+-(printer|scanner)']
- [ups,        '.+-ups',                    {services: [ups], admin: uzer}]
- [embedded,   [aps, switches, paper, ups], {services: [http], admin: uzer}]

#- [621-pcs,   '621-\d\d',                   {admin: vsamun}]
- [633-pcs,    '(stream|cuda)-pc',          {services: [rrdp], admin: kost}]
- [hs,         'h\d\d',                     {services: [amt],
                                             admin: uzer,
                                             nagios: {check_interval: 1}}]
- [bhs,        'h(0\d|1[0-7])']
- [shs,        'h(1(8|9)|2\d)']

- [hogs,       'hog\d\d',                   {services: [userqwer]}]
- [bhogs,      'hog(0\d|1[0-7])']
- [shogs,      'hog(1(8|9)|2\d)']

- [managed,    [volatile], '(clt*|(uzer|znick)-pc)', {services: [unix],
                                                      admin: uzer,
                                                      dhcp: {ipxe.scriptlet: cow},
                                                      managed: 1}]

- [notebooks,  '(asus(1|2|3)|canion|hewlett|packard)']
- [volatile,   [hogs, notebooks], {volatile: 1}]

hosts:
- [[621-switch, s6],      9.1,     001ec12d7240]
- [[postel, p],           9.2,    [000bdba8f473, 000bdba8f474], {admin: uzer,
                                                                 services: [adaptecraid],
                                                                 ups: bfu}]
- [[markov, m],           9.3,    [0015176b9b3c, 0015176b9b3d], {
                                        tcp_fwd: {3260: 3260},
                                        fb: [10.229, '11.240', '12.250', '194.226.244.126'],
                                        backend_for: m.fb.urgu.org,
                                        services: [http],
                                        ups: hlu,
                                        admin: uzer}]
- [[mmarkov, mm],              9.4,     000c29dfeeff, {admin: uzer, services: [openvz]}]
- [[hamming, h],               9.5,    [000423d6896e, 000423d6896f], {ups: hlu, admin: uzer}]
- [[630-switch, bs],           9.6,     001b11c344e6]
- [[hp-switch, hps],           9.7,     001ec1831c01]
- [[hog-switch, hs],           9.8,     001ac1d1a981]
- [[hog-ap, hap],              9.9,     00259c3171aa]
- [ l,                        '9.10',   001a4bec0cec, {ups: [hpu, hpu2], admin: znick}]
- [[hog-low-ups, hlu],         9.11,    00c0b7598b9d]
- [[neumann, n],               9.12,   [90e2ba3f0fc2, 90e2ba3f0fc3], {admin: uzer}]
- [[storage-mplan, s-m],       9.13,    001a4bec0cee]
- [[it2-mplan,it2-m],          9.14,    001b789f92a6]
- [[it-mplan,it-m],            9.15,    002b789fa22f]
- [[postel-mplan,p-m],         9.16,    00065bff8f1b]
- [ ap0,                       9.17,    001225556be2]
- [[markov-ipmi, m-i],         9.18,    0015176b9b3e, {switch: hs}]
- [[hamming-ipmi, h-i],        9.19,    000423d68970, {switch: hs}]
- [ ap1,                      '9.20',  '001225557506']
- [[tesla, t],                 9.21,    001e670fafcc, {ups: hlu, admin: uzer}]
- [[tesla-ipmi, t-i],          9.22,    001e670fafce, {switch: hs}]
- [[631-near-low-ups, bfu],    9.23,    00c0b731da0e, {services: [ext_temp]}]
- [[airlab-switch, as],        9.24,    001b11c34547]
- [[ritchie-ipmi, r-i],        9.25,    001e670fac42, {switch: hs}]
- [[ritchie, r],               9.26,   [001e670fac40, 001e670fac41], {ups: hlu, admin: uzer}]
- [[631-far-low-ups, hpu],     9.27,    00c0b798608d, {services: [ext_temp]}]
- [[631-far-high-ups, hpu2],   9.28,    00c0b72f2677]
#- [[hog-high-ups, hhu],        9.29,    00c0b79860d9]
#- [[631-near-high-ups, bfu2], '9.30',   00c0b72ea27c]
#   dijkstra              9.254

- [ anytask-back,         10.215,  001851ad5d74, {admin: znick}]
#- [ clt1,                 10.216, [00142a496556, 0004e21c735b]]
#- [ clt2,                 10.217, [00142a485af5, 0004e21c716a]]
- [ ld-xp,                10.218,  00163a34f04d, {admin: ld}]
- [ pi,                   10.219,  b827ebc2847b, {services: [ssh], admin: kost}]
- [ asus1,               '10.220', 14dae9c9a638, {services: [nvidia]}]
- [ znick-pc.runc,        10.221,  001cc0641451, {udp_fwd: {60211: 60211}, tcp_fwd: {60211: 60211}}]
- [ irc-back,             10.222,  001851bcb7a7, {tcp_fwd: {6665: 6665, 6666: 6666, 6667: 6667, 6668: 6668, 6669: 6669},
                                                  backend_for: irclog.hackerdom.ru, admin: and}]
- [ dc3.runc,             10.223,  00163a34f84d, {tcp_fwd: {636: 636, 88: 88}, admin: uzer}]
- [ asus2,                10.224,  14dae9c9a629, {services: [nvidia]}]
#   free                  10.225
- [ canion,               10.226,  001eec2cf0f2, {services: [nvidia]}]
- [ asus3,                10.227,  14dae9c9a63b, {services: [nvidia]}]
#- [ site-back,            10.228,                {backend_for: site.hackerdom.ru}]  #?
#   markov-fastbone       10.229
- [ ts.runc,             '10.230', 000c38ad9962, {tcp_fwd: {22: 22, 6817: 6817}, admin: uzer,
                                                  services: [hadoop-master, slurm-master]}]
- [ jobs.runc,            10.231 , 0016cbaeb229, {admin: uzer, services: [ssh]}]
- [ hewlett,              10.232 , b499ba5732e9]
- [ packard,              10.233 , b499ba5684d1]
- [ uzer-pc.runc,         10.234,  0019d17f04ba, {udp_fwd: {60234: 60234}, tcp_fwd: {60234: 60234}}]
- [ redmine-back,         10.235,  001851224547, {backend_for: [redmine.hackerdom.ru,
                                                                git.redmine.hackerdom.ru],
                                                  services: [autoupdate],
                                                  admin: znick}]
- [ stream-pc.runc,       10.236,  001cc009f4af]
- [ cuda-pc.runc,         10.237,  001cc009f4ff]
- [[itanium,it],          10.238, [001b789f0090, 001b789f0091], {ups: [hpu, hpu2], admin: uzer}]
- [[itanium2,it2],        10.239, [0017a4abf41f, 0017a4abf41e], {ups: [hpu, hpu2], admin: uzer}]
- [ school-back,         '10.240', 001851d78a56, {backend_for: [school.uralctf.ru, qctf.ru, '*.qctf.ru'], admin: muzafarov}]
#   free                  10.241
#   free                  10.242
- [ mysql,                10.243,  0018512e4ea0, {admin: znick}]
- [ 633-scanner,          10.244,  00c0ee25d6b1, {admin: uzer}]
- [ hackerdom-back,       10.245,  0018513ca307, {backend_for: [hackerdom.ru,
                                                                seminar.hackerdom.ru,
                                                                www.hackerdom.ru],
                                                  admin: znick}]
- [ 633-printer,          10.246,  00c0ee1c9a28, {admin: uzer}]
- [ hog.runc,             10.247,  000c29ad7767, {admin: uzer, services: [managed-apt]}]
- [ lick.runc,            10.248,  001a4bec0cea, {admin: znick}]
# - [ dc4.runc,             10.249,  00163a34f855, {admin: uzer}]
#   free                  10.250
#   free                  10.251
#   free                  10.252
#   main-switch           10.253
#   dijkstra              10.254

#- [[pioneer, p],          18.1, {admin: uzer}]

- [ uzer-work,            19.198,  {admin: uzer}]

- [ dcimap-vm,           '50.100', 000c29ad8762, {admin: andgein}]
- [ dcimap-scanner,       50.245,  00c0ee25d6ae, {admin: yariksuperman}]
- [ dcimap-printer,       50.246,  00c0ee1c78a8, {admin: yariksuperman}]

#   free                  194.226.244.113
- [[main-switch, ms],     194.226.244.114, 001cc534d301, {services: [ext_http]}]
- [ airlab.math.usu.ru,   194.226.244.115, 000c29ad7662, {admin: yariksuperman}]
#   free                  194.226.244.116
#   free                  194.226.244.117
#   free                  194.226.244.118
#   free                  194.226.244.119
#   free                 '194.226.244.120'
#   free                  194.226.244.121
#   free                  194.226.244.122
- [ honeypot,             194.226.244.123, 000c29cbbcf7, {admin: last}]
#   free                  194.226.244.124
#   free                  194.226.244.125
- [[dijkstra, anytask, urgu.org, d, puppet, ssl, status, v, wiki],
    194.226.244.126, 0002a54f11c2, {admin: uzer,
                                    ssh_port: 1022,
                                    services: [nagios, autoupdate],
                                    nrpe_allowed: [195.19.132.20],
                                    ups: hlu,
                                    fb: [10.254, 11.254, 12.254, 50.254]}]

- [ babbage.usu,      194.226.235.251, {admin: znick}]
- [ shannon.usu,      194.226.235.185, {admin: znick}]

- [ ructf.org,    194.226.235.189, {admin: znick,
                                    backend_for: [ructf.org, www.ructf.org],
                                    services: [http]}]
- [ ructfe.org,   194.226.235.189, {admin: znick, services: [http]}]

- [ acm.timus.ru,                  {admin: alklepin, services: [http]}]
- [ acm.usu.ru,                    {admin: alklepin, services: [http]}]
- [ acm.urfu.ru,                   {admin: alklepin, services: [http]}]

- [ loa.imm.uran.ru ]
- [ um64.imm.uran.ru ]

- [ mx1.eunnet.net,  194.226.255.33]
- [ usu-math.usu.ru, 194.226.235.254]
- [ codd.runc,       194.226.235.240,  00163a34e94d, {admin: uzer}]
- [ ns.usu.ru,       194.226.235.22]

- [ splinex.dyndns.org, {admin: ns}]

#- [ 621-01,  11.1,   001cc044c5fc]
#- [ 621-02,  11.2,   001cc044c7fc]
#- [ 621-03,  11.3,   001cc044c719]
#- [ 621-04,  11.4,   001cc044c707]
#- [ 621-05,  11.5,   001cc044c725]
#- [ 621-06,  11.6,   001cc044c5f6]
#- [ 621-07,  11.7,   001cc044c76e]
#- [ 621-08,  11.8,   001cc044c8b2]
#- [ 621-09,  11.9,   001cc044c622]
#- [ 621-10, '11.10', 001cc044c7de]
#- [ 621-11,  11.11,  001cc044c69a]
#- [ 621-12,  11.12,  001cc044c5e1]
#- [ 621-13,  11.13,  001cc044c911]
#- [ 621-14,  11.14,  001cc044c67d]

- [[hog01.runc, hog1.runc], 12.1, 0019d17ebcce]
- [[hog02.runc, hog2.runc], 12.2, 0019d17ebb9f]
- [[hog03.runc, hog3.runc], 12.3, 0019d17e9e1f]
- [[hog04.runc, hog4.runc], 12.4, 0019d17e94de]
- [[hog05.runc, hog5.runc], 12.5, 000c29ad7768, {dhcp: {ipxe.scriptlet: cow}}] # test vm
- [[hog06.runc, hog6.runc], 12.6, 0019d17e934c]
- [[hog07.runc, hog7.runc], 12.7, 0019d17e85a5]
- [[hog08.runc, hog8.runc], 12.8, 0019d17f037c]
#- [[hog09.runc, hog9.runc], 12.9, 0019d17eb922]
- [ hog10.runc,  '12.10',  0019d17f049e]
- [ hog11.runc,   12.11,   0019d17ebcd5]
- [ hog12.runc,   12.12,   0019d17e9dd4]
- [ hog13.runc,   12.13,   0019d17f04d9]
- [ hog14.runc,   12.14,   0019d17ebb63]
- [ hog15.runc,   12.15,   0019d17e9de4]
- [ hog16.runc,   12.16,   0019d17f044c]
#- [ hog17.runc,   12.17,   0019d17e63c6]
- [ hog18.runc,   12.18,   0019d17ebc09]
- [ hog19.runc,   12.19,   0019d17ebb2e]
- [ hog20.runc,  '12.20',  0019d17eb926]
- [ hog21.runc,   12.21,   0019d17e9dbe]
- [ hog22.runc,   12.22,   0019d17e97e4]
- [ hog23.runc,   12.23,   0019d17f0420]
- [ hog24.runc,   12.24,   0019d17f047c]
#- [ hog25.runc,   12.25,   0019d17e9de0]
#- [ hog26.runc,   12.26,   0019d17e9c6f]
#- [ hog27.runc,   12.27,   0019d17e9d99]
#- [ hog28.runc,   12.28,   0019d17e922d]
- [ hog-vm.runc, '12.100', 000c29ad7762, {services: [rrdp]}]

- [ h01,  20.1,   0019d17ebccf, {nagios: { 2d_coords: '680,440', statusmap_image: 'base/cmp+180.png' } } ]
- [ h02,  20.2,   0019d17ebba0, {nagios: { 2d_coords: '680,520', statusmap_image: 'base/cmp+180.png' } } ]
- [ h03,  20.3,   0019d17e9e20, {nagios: { 2d_coords: '680,600', statusmap_image: 'base/cmp+180.png' } } ]
- [ h04,  20.4,   0019d17e94e0, {nagios: { 2d_coords: '680,680', statusmap_image: 'base/cmp+180.png' } } ]
- [ h06,  20.6,   0019d17e934d, {nagios: { 2d_coords: '680,760', statusmap_image: 'base/cmp.png' } } ]
- [ h07,  20.7,   0019d17e85a6, {nagios: { 2d_coords: '480,440', statusmap_image: 'base/cmp+180.png' } } ]
- [ h08,  20.8,   0019d17f037d, {nagios: { 2d_coords: '560,440', statusmap_image: 'base/cmp+180.png' } } ]
#- [ h09,  20.9,   0019d17eb923, {nagios: { 2d_coords: '480,520', statusmap_image: 'base/cmp+180.png' } } ]
- [ h10, '20.10', 0019d17f049f, {nagios: { 2d_coords: '560,520', statusmap_image: 'base/cmp+180.png' } } ]
- [ h11,  20.11,  0019d17ebcd6, {nagios: { 2d_coords: '480,600', statusmap_image: 'base/cmp+180.png' } } ]
- [ h12,  20.12,  0019d17e9dd5, {nagios: { 2d_coords: '560,600', statusmap_image: 'base/cmp+180.png' } } ]
- [ h13,  20.13,  0019d17f04da, {nagios: { 2d_coords: '480,680', statusmap_image: 'base/cmp+180.png' } } ]
- [ h14,  20.14,  0019d17ebb64, {nagios: { 2d_coords: '560,680', statusmap_image: 'base/cmp+180.png' } } ]
- [ h15,  20.15,  0019d17e9de6, {nagios: { 2d_coords: '360,680', statusmap_image: 'base/cmp+180.png' } } ]
- [ h16,  20.16,  0019d17f044d, {nagios: { 2d_coords: '360,600', statusmap_image: 'base/cmp+180.png' } } ]
#- [ h17,  20.17,  0019d17e63c7, {nagios: { 2d_coords: '360,520', statusmap_image: 'base/cmp+180.png' } } ]
- [ h18,  20.18,  0019d17ebc0a, {nagios: { 2d_coords: '0,120', statusmap_image: 'base/cmp+60.png' } } ]
- [ h19,  20.19,  0019d17ebb2f, {nagios: { 2d_coords: '80,80', statusmap_image: 'base/cmp-120.png' } } ]
- [ h20, '20.20', 0019d17eb927, {nagios: { 2d_coords: '120,160', statusmap_image: 'base/cmp-120.png' } } ]
- [ h21,  20.21,  0019d17e9dbf, {nagios: { 2d_coords: '160,240', statusmap_image: 'base/cmp-120.png' } } ]
- [ h22,  20.22,  0019d17e97e5, {nagios: { 2d_coords: '200,320', statusmap_image: 'base/cmp-120.png' } } ]
- [ h23,  20.23,  0019d17f0421, {nagios: { 2d_coords: '160,40', statusmap_image: 'base/cmp-120.png' } } ]
- [ h24,  20.24,  0019d17f047d, {nagios: { 2d_coords: '200,120', statusmap_image: 'base/cmp-120.png' } } ]
#- [ h25,  20.25,  0019d17e9de1, {nagios: { 2d_coords: '240,200', statusmap_image: 'base/cmp-120.png' } } ]
#- [ h26,  20.26,  0019d17e9c70, {nagios: { 2d_coords: '280,280', statusmap_image: 'base/cmp-120.png' } } ]
#- [ h27,  20.27,  0019d17e922e, {nagios: { 2d_coords: '240,0', statusmap_image: 'base/cmp-120.png' } } ]
#- [ h28,  20.28,  000c29ad7763, {nagios: { 2d_coords: '280,80', statusmap_image: 'base/cmp-120.png' } } ]
